import sys
from Bio import SeqIO

if len(sys.argv) != 2:
    print("#usage: python %s <fasta>" % sys.argv[0])
    sys.exit()

f = sys.argv[1]

with open(f,"rU") as handle:
    for record in SeqIO.parse(handle,"fasta"):
        seq = record.seq
        print(record.id)
        print("A",seq.upper().count("A"))
        print("C",seq.upper().count("C"))
        print("G",seq.upper().count("G"))
        print("T",seq.upper().count("T"))
        print("N",seq.upper().count("N"))

"""
## USAGE
$ BaseCounter.py <fasta>

## EXAMPLE
$ BaseCounter.py ucsc.hg19.fasta

## EXAMPLE - RESULT
chrM
A 5113
C 5192
G 2180
T 4086
N 0
chr1
A 65570891
C 47024412
G 47016562
T 65668756
N 23970000
chr2
A 71102632
C 47915465
G 47947042
T 71239379
N 4994855
chr3
A 58713343
C 38653197
G 38670110
T 58760485
N 3225295
chr4
A 57932980
C 35885806
G 35890822
T 57952068
N 3492600
chr5
A 53672554
C 35089383
G 35129186
T 53804137
N 3220000
chr6
A 50554433
C 33143287
G 33163423
T 50533923
N 3720001
chr7
A 45997757
C 31671670
G 31636979
T 46047257
N 3785000
chr8
A 42767293
C 28703983
G 28702621
T 42715025
N 3475100
chr9
A 35260078
C 24826212
G 24813259
T 35243882
N 21070000
chr10
A 38330752
C 27308648
G 27298423
T 38376915
N 4220009
chr11
A 38307244
C 27236798
G 27268038
T 38317436
N 3877000
chr12
A 38604831
C 26634995
G 26617050
T 38624517
N 3370502
chr13
A 29336945
C 18412698
G 18414776
T 29425459
N 19580000
chr14
A 25992966
C 18027132
G 18071947
T 26197495
N 19060000
chr15
A 23620876
C 17247582
G 17228387
T 23597921
N 20836626
chr16
A 21724083
C 17630040
G 17701988
T 21828642
N 11470000
chr17
A 21159933
C 17727956
G 17700340
T 21206981
N 3400000
chr18
A 22465380
C 14838685
G 14863671
T 22489493
N 3420019
chr19
A 14390632
C 13478255
G 13511145
T 14428951
N 3320000
chr20
A 16523053
C 13107828
G 13149412
T 16725227
N 3520000
chr21
A 10422924
C 7160212
G 7174721
T 10348785
N 13023253
chr22
A 9094775
C 8375984
G 8369235
T 9054551
N 16410021
chrX
A 45648952
C 29813353
G 29865831
T 45772424
N 4170000
chrY
A 7667625
C 5099171
G 5153288
T 7733482
N 33720000
"""
